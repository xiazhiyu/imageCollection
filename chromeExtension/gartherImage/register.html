<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<title>List</title>

	<!--[if IE]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<!--
	
	<link href="css/adipoli.css" rel="stylesheet" type="text/css"/>
	-->
 	<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
 	<script type="text/javascript" src="js/register.custom.js"></script>
 	
 	
 	<!--[if IE 6]> 
		<script >
			self.location="updateBrowser.html";
		</script>
	 <![endif]-->
	

</head>
<body style="margin:0; font-size:75%;">
	<div class="register_content">
		<div class="blank"></div>
		<div class="form_content">
		<h3><span class="title">Surprise Image Collection</span></h3>

		<form method="POST" action="http://surprise.xyjp.net/photogather/register.php" class="register">
			<p>
		<input type="email" class="email" id="email1" placeholder="Email" name="email" required/></p>
		<p><input type="password" id="password1" name="password1" placeholder="Password" required onchange="checkPasswords()"></p>
		<p><input type="password" id="password2" name="password2" placeholder="Confirm Password"  required onchange="checkPasswords()"></p>
		<input type="button" value="REGISTER" class="register_submit submit">
		</form>
		<form method="POST" action="login.php" class="login">
			<p>
		<input type="email" class="email" placeholder="Email" name="email" required/></p>
		<p><input type="password" id="password3" name="password" placeholder="Password" required ></p>
		<input type="button" value="LOGIN" class="login_submit submit">
		</form>
		<div><a href="##" info="register" onclick="loginorregisterchange(this);" style=" color: rgb(180, 151, 56);padding-top: 20px;display:block; font-size:1rem;">已是注册用户？请登录。</a></div>
		</div>
	</div>
<script >

/*
$(".email").each(function(){
	this.addEventListener('invalid', function(e) {
	    if(this.validity.valueMissing){
	        e.target.setCustomValidity("请输入Email！"); 
	    } else if(!this.validity.valid) {
	        e.target.setCustomValidity("请输入正确的email。"); 
	        alert(this.value);
	    }else{
	    	e.target.setCustomValidity("");
	    }
    }, false);
});
*/
/*
var emailInput = document.getElementById("email1");
emailInput.addEventListener('change', function(e) {
    if(emailInput.validity.valueMissing){
        e.target.setCustomValidity("请输入Email！"); 
    }else if(!emailInput.validity.valid) {
        e.target.setCustomValidity("请输入正确的email。"); 
    }else if(emailInput.validity.valid) {
    	alert("yes");
    	 e.target.setCustomValidity(''); 
    }
}, false);
*/

function checkPasswords() {
        var pass1 = document.getElementById("password1");
        var pass2 = document.getElementById("password2");
        if (pass1.value != pass2.value){
        	pass1.setCustomValidity("两次输入的密码不匹配");
        	//alert(pass1.value);
        	//alert(pass2.value);
        }else{
        	document.getElementById("password1").setCustomValidity('');
        }
            
        //else
          //  pass1.setCustomValidity("ok");
    }
  function loginorregisterchange(a){
  	//alert("test");
  	if($(a).attr("info")=="register"){
  		$(".register").slideUp(800,function(){
  			$(".login").slideDown(800);
  		});
  		
	  	$(a).attr("info","login");
	  	$(a).text("尚未注册？");
  	}else{
  		$(".login").slideUp(800,function(){
  			$(".register").slideDown(800);
  		});
	  	$(a).attr("info","register");
	  	$(a).text("已是注册用户？请登录。");
  	}
  	
  	return false;
  }
</script>
</body>
</html>